@template access

{{div: class=container why-page white-box}}

@row
@col12


{{html:
<style type="text/css">
  .white-box{
    background-color: #fff;
    min-height: 30em;
    margin: 100px auto;
    border-radius: 12px;
    max-width: 60em;
    border: 7px solid rgba(255, 255, 255, 0.2);
  }
  .white-box a:hover, .white-box a:focus{
    text-decoration: underline;
    color: #6591AD;
  }
</style>
<div ng-controller="ResetPasswordController" ng-cloak>

<h2 ng-model="username">Reset password <span ng-show="username">for {[username ]}</span></h2>
    <div ng-show="verificationStatus=='PENDING'">
}}

Verifying...

{{html:
    </div>
    <div class="alert" ng-show="verificationStatus=='EXPIRED'">

}}
Your link is invalid or expired, you have to [request a new one| ForgotPassword].

{{html:
    </div>
    <div ng-show="verificationStatus=='VALIDTOKEN'">

    <form name="form" ng-submit="updatePassword()">
        <br/>
      <div class="reset-password tab-pane row margin-bottom-small">
        <div class="form-group width-full margin-bottom-medium clearfix">
           <label class="left control-group margin-all-none margin-right-medium line-height txt-14 width-15">New password:</label>
          <input required ng-model="newPassword" type="password" name="password" id="password" class="input-xxlarge width-20 left margin-right-medium form-control">
        </div>
        <div class="form-group width-full margin-bottom-medium clearfix">
           <label class="left control-group margin-all-none margin-right-medium line-height txt-14 width-15">Retype password:</label>
          <input required ng-model="retypePassword" type="password" class="input-xxlarge width-20 left form-control">
        </div>
      </div>
        <button type="submit" class="btn btn-info btn-large">Update Password</button>
        <div class="txt-center">
          <div class="alert margin-top-large width-40 txt-center" ng-class="{'alert-success': alertStatus=='success', 'alert-danger': alertStatus=='error'}" ng-show="updateResultMessage">{[ updateResultMessage ]}</div>
        </div>
      </form>

    </div>
    <div ng-show="verificationStatus=='SUCCEEDED'">
    Your password has been successfully updated. Please proceed to <a href="/restmachine/system/oauth/authenticate">login</a>.
    </div>
    <div class="alert alert-error" ng-show="verificationStatus=='ERROR'">
}}
An unexpected error occurred while processing your request.
{{html:
    </div>
</div>
</div>
<script src="/$$space/.files/js/services/UserServices.js" type="text/javascript"></script>
<script src="/$$space/.files/js/controllers/ResetPasswordController.js" type="text/javascript"></script>

}}



@divend
@divend
